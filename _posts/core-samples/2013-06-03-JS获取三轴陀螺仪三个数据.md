---
layout: post
category : "移动前端"
tagline: ""
tags : ["移动前端",js]
---
{% include JB/setup %}


这里是通过JS获取三轴陀螺仪数据【IOS中试用】

```js
function orientationIOS(event){
    var x = event.beta;  // In degree in the range [-180,180]
    var y = event.gamma; // In degree in the range [-90,90]
    var z = event.webkitCompassHeading;
    if(z){
        angle =z - jiajiao - 180;
        var xd = 30*Math.cos((angle)*Math.PI/180)+30;
        var yd = 30*Math.sin((angle)*Math.PI/180)+30;
        document.getElementById("img").style.marginLeft=Math.floor(xd)+"px";
        document.getElementById("img").style.marginTop=Math.floor(yd)+"px";
        angle+=3;
        if(yd<30){
            floatSubOrAddIOS(xd,y)  
        }
    }
}
```
